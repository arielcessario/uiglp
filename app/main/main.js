window.conProductos = 0;(function () {    'use strict';    var scripts = document.getElementsByTagName("script");    var currentScriptPath = scripts[scripts.length - 1].src;    angular.module('uiglp.main', ['ngRoute'])        .config(['$routeProvider', function ($routeProvider) {            $routeProvider.when('/', {                templateUrl: currentScriptPath.replace('.js', '.html'),                controllerAs: 'mainCtrl',                data: {requiresLogin: false}            });        }])        .controller('MainController', MainController);    MainController.$inject = ['$interval', 'slidersService', 'NoticiasService'];    function MainController($interval, slidersService, NoticiasService) {        var vm = this;        vm.agendaMes = 'DICIEMBRE';        vm.noticia01 = {};        vm.noticia02 = {};        vm.noticia03 = {};        vm.fecha = new Date();        vm.anio = vm.fecha.getFullYear();        vm.mes = '' + vm.fecha.getMonth();        vm.listaEventos = [];        vm.evento = {};        vm.selectImage = selectImage;        vm.selectEvento= selectEvento;        vm.slider_01 = {};        vm.slider_02 = {};        vm.slider_03 = {};        vm.slider_04 = {};        vm.empresas = [            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''},            {nombre: '', foto: ''}        ];        vm.slideSelected = 1;        slidersService.getSliders(function (data) {            var slide01 = angular.element(document.querySelector('#slide-01'));            var slide02 = angular.element(document.querySelector('#slide-02'));            var slide03 = angular.element(document.querySelector('#slide-03'));            var slide04 = angular.element(document.querySelector('#slide-04'));            data[0].precio = 0;            data[1].precio = 0;            data[2].precio = 0;            data[3].precio = 0;            vm.slider_01 = data[0];            vm.slider_02 = data[1];            vm.slider_03 = data[2];            vm.slider_04 = data[3];            slide01[0].style.background = 'black url(img/' + vm.slider_01.imagen + ') 50% 50% no-repeat';            slide02[0].style.background = 'black url(img/' + vm.slider_02.imagen + ') 50% 50% no-repeat';            slide03[0].style.background = 'black url(img/' + vm.slider_03.imagen + ') 50% 50% no-repeat';            slide04[0].style.background = 'black url(img/' + vm.slider_04.imagen + ') 50% 50% no-repeat';        });        $interval(autoChangeSlide, 3000);        NoticiasService.getSoloNoticias(function (data) {            vm.noticia01 = data[0];            vm.noticia02 = data[1];            vm.noticia03 = data[2];        });        NoticiasService.getEventosByFecha(vm.anio, vm.mes, function (data) {            var diasMes = new Date(vm.anio, vm.mes + 1, 0).getDate();            vm.listaEventos = [];            var event = {};            for(var i = 0; i<(new Date(vm.fecha.getFullYear(), vm.fecha.getMonth(), 1).getDay()); i++){                event = {dia: '', evento: undefined};                vm.listaEventos.push(event);            }            for (var i = 1; i < diasMes + 1; i++) {                event = {dia: i, evento: undefined};                for (var x = 0; x < data.length; x++) {                    if ((new Date(data[x].fecha)).getDate() == i) {                        event.evento = data[x];                    }                }                vm.listaEventos.push(event);            }            for(var i = diasMes + 2; i<50; i++){                event = {dia: '', evento: undefined};                vm.listaEventos.push(event);            }            vm.evento = data[0];        });        function autoChangeSlide() {            vm.slideSelected = (vm.slideSelected + 1 > 4) ? 1 : vm.slideSelected + 1;        }        function selectImage(slide) {            vm.slideSelected = slide;        }        function selectEvento(evento) {            if (evento!= undefined){                vm.evento = evento;            }        }    }})();