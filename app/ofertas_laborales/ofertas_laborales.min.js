(function(){"use strict";var scripts=document.getElementsByTagName("script");var currentScriptPath=scripts[scripts.length-1].src;angular.module("ofertasLaborales",["ngRoute"]).factory("OfertasLaboralesService",OfertasLaboralesService);OfertasLaboralesService.$inject=["$http"];function OfertasLaboralesService($http){var service={};var url=currentScriptPath.replace(".min.js",".php");service.get=get;service.getById=getById;service.getActivas=getActivas;service.getByCliente=getByCliente;service.create=create;service.update=update;service.remove=remove;return service;function get(callback){$http.get(url+"?function=get").success(function(data){for(var i=0;i<data.length;i++){if(data.titulo!=undefined){data[i].titulo=data[i].titulo.charAt(0).toUpperCase()+data[i].titulo.slice(1)}}callback(data)}).error(function(data){callback(data)})}function getById(id,callback){get(function(data){var response=data.filter(function(elem,index,array){return id==elem.oferta_laboral_id})[0];callback(response)})}function getActivas(callback){get(function(data){var response=data.filter(function(elem,index,array){return elem.status=="1"});callback(response)})}function getByCliente(id,callback){get(function(data){var response=data.filter(function(elem,index,array){return elem.cliente_id==id});callback(response)})}function create(oferta_laboral,callback){return $http.post(url,{"function":"create",item:JSON.stringify(oferta_laboral)}).success(function(data){callback(data)}).error(function(data){callback(data)})}function update(oferta_laboral,callback){return $http.post(url,{"function":"update",item:JSON.stringify(oferta_laboral)}).success(function(data){callback(data)}).error(function(data){callback(data)})}function remove(oferta_laboral,callback){return $http.post(url,{"function":"remove",item:JSON.stringify(oferta_laboral)}).success(function(data){callback(data)}).error(function(data){callback(data)})}}})();